<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Emacs on blog-ja.dtan4.net</title><link>https://dtan4.github.io/blog-ja/tags/emacs/</link><description>Recent content in Emacs on blog-ja.dtan4.net</description><generator>Hugo -- gohugo.io</generator><language>ja-JP</language><copyright>Copyright &amp;copy; 2020 dtan4 All Rights Reserved</copyright><lastBuildDate>Sat, 26 Dec 2015 00:00:00 +0000</lastBuildDate><atom:link href="https://dtan4.github.io/blog-ja/tags/emacs/index.xml" rel="self" type="application/rss+xml"/><item><title>Emacs で行番号を指定してファイルを開く</title><link>https://dtan4.github.io/blog-ja/posts/qiita-9e2eb59373f0b2b5f17c/</link><pubDate>Sat, 26 Dec 2015 00:00:00 +0000</pubDate><guid>https://dtan4.github.io/blog-ja/posts/qiita-9e2eb59373f0b2b5f17c/</guid><description>この記事はQiitaの記事をエクスポートしたものです。内容が古くなっている可能性があります。
:bulb: 以下、emacs の部分は、あなたの Emacs 利用形態（新しい Emacs ではなくすでに起動している Emacs 上で開くとか）に合わせて emacsclient -n とかにしてください。
ターミナルから行番号を指定して開く Emacs のコマンドラインヘルプを見ると…
$ emacs --help Usage: /usr/local/opt/emacs-mac/bin/emacs [OPTION-OR-FILENAME]... Run Emacs, the extensible, customizable, self-documenting real-time display editor. The recommended way to start Emacs for normal editing is with no options at all. (snip) Action options: FILE visit FILE using find-file +LINE go to line LINE in next FILE +LINE:COLUMN go to line LINE, column COLUMN, in next FILE (snip) ということで、/path/to/hoge ファイルの__20行目__を開くときは</description></item><item><title>Emacs で Crystal を書く</title><link>https://dtan4.github.io/blog-ja/posts/qiita-b098d11e48453e1c6ee0/</link><pubDate>Sat, 01 Aug 2015 00:00:00 +0000</pubDate><guid>https://dtan4.github.io/blog-ja/posts/qiita-b098d11e48453e1c6ee0/</guid><description>この記事はQiitaの記事をエクスポートしたものです。内容が古くなっている可能性があります。
みんな大好き Emacs で Crystal を書くための記事です。
Ruby ライクなシンタックスを持っているということもあって意外と ruby-mode でいけるのでは感はあります。実際、Crystal 独自機能を使わないようなコードを書く分には十分です。 ただ、型宣言とかマクロのような Crystal 独特のものを書こうとすると ruby-mode ではシンタックスハイライトが死にます。やはり Crystal に合わせたメジャーモードを使いたいところです。
ruby-mode でマクロを表示させた時の悲しい例: そして Crystal Wiki の Editor support で Emacs がハブられている！どういうことだ！
メジャーモード jpellerin/emacs-crystal-mode
crystal-mode があります。が、このメジャーモードは今のとこ MELPA とかに登録されている気配が無いです… 1 el-get 使いなら以下の一文を init.el にでも書いときましょう。
(el-get-bundle jpellerin/emacs-crystal-mode) マクロもちゃんとハイライトされてます。String interpolation がまだあやしいけど… 自分は使ってないですが、flycheck 用のコードも入っているみたいです。
マイナーモード マイナーモードに関しては、Ruby のものを流用することができます。 たとえば、
ruby-block end に対応する行をハイライトしてくれる ruby-end def, if 等に対応した end を自動で挿入してくれる (add-hook &amp;#39;crystal-mode-hook &amp;#39;ruby-block-mode) (add-hook &amp;#39;crystal-mode-hook &amp;#39;ruby-end-mode) そのほか Projectfile は crystal-mode で開くよう設定しておきましょう。</description></item><item><title>magit でコミットするときに新しいウィンドウを立ち上げないようにする</title><link>https://dtan4.github.io/blog-ja/posts/qiita-658a8a7ca06aa8c2da4c/</link><pubDate>Fri, 11 Oct 2013 00:00:00 +0000</pubDate><guid>https://dtan4.github.io/blog-ja/posts/qiita-658a8a7ca06aa8c2da4c/</guid><description>この記事はQiitaの記事をエクスポートしたものです。内容が古くなっている可能性があります。
(2019-03-07 追記)
.emacs.d 大掃除をやってて気づいたのですが、このハックは現代の Emacs + magit では不要になっていました。
GNU Emacs 26.1 (build 1, x86_64-apple-darwin18.0.0, Carbon Version 158 AppKit 1671) of 2018-11-18 magit-20190306.413 (以下 2013-10-11 時点での投稿)
2ヶ月ほど前に magit のコミット周りの実装が大きく変わりました。それまではコミットメッセージの入力をミニバッファで行っていましたが、この変更に伴い git-commit-mode というメジャーモードを用いて入力、つまり一つのバッファを占有して行うようになりました。
本来この git-commit-mode は 同じ ウィンドウ内の別バッファに開くことが意図されており、Linux 版ではこの通りの挙動を示します。 しかし、Mac 版 (Cocoa) Emacs では 新しく ウィンドウを開いて（もう一つ Emacs を起動して）そこに git-commit-mode を開くという挙動を示し、大変面倒くさい感じになっていました。
2ヶ月間この挙動に悩まされていましたが、この度改善するための設定を発見したため、ここに共有します。
Mac でも同一ウィンドウ内でコミットアクションを完結させる /Application に Emacs.app を置いた場合は
(set-variable &amp;#39;magit-emacsclient-executable &amp;#34;/Applications/Emacs.app/Contents/MacOS/bin/emacsclient&amp;#34;) Homebrew で Emacs をインストールした場合は
(set-variable &amp;#39;magit-emacsclient-executable &amp;#34;/usr/local/Cellar/emacs/24.3/bin/emacsclient&amp;#34;) を init.el などに追記しましょう。
これで次回から git-commit-mode は 同じ ウィンドウ内の別バッファに立ち上がるようになります。c を2回押したあと、ウィンドウを切り替えてメッセージ入れて C-c C-c したら手動でウィンドウを閉じる・・・といった煩わしさから開放されます。</description></item></channel></rss>