<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>ShellScript on blog-ja.dtan4.net</title><link>http://blog-ja.dtan4.net/tags/shellscript/</link><description>Recent content in ShellScript on blog-ja.dtan4.net</description><generator>Hugo -- gohugo.io</generator><language>ja-JP</language><copyright>Copyright &amp;copy; 2020 dtan4 All Rights Reserved</copyright><lastBuildDate>Wed, 07 Sep 2016 00:00:00 +0000</lastBuildDate><atom:link href="http://blog-ja.dtan4.net/tags/shellscript/index.xml" rel="self" type="application/rss+xml"/><item><title>PostgreSQL が起動したかどうか簡単に確認する (ping)</title><link>http://blog-ja.dtan4.net/posts/qiita-45ae1a8ac6f853a0dc1a/</link><pubDate>Wed, 07 Sep 2016 00:00:00 +0000</pubDate><guid>http://blog-ja.dtan4.net/posts/qiita-45ae1a8ac6f853a0dc1a/</guid><description>この記事はQiitaの記事をエクスポートしたものです。内容が古くなっている可能性があります。
PostgreSQL は、プロセスを起動してから SQL クエリ・外部入力を受け付けるようになるまで若干のタイムラグが有ります。特に Docker コンテナで起動した場合、自分の環境では5秒程度待つことになります。
The files belonging to this database system will be owned by user &amp;quot;postgres&amp;quot;. This user must also own the server process. The database cluster will be initialized with locale &amp;quot;en_US.utf8&amp;quot;. The default database encoding has accordingly been set to &amp;quot;UTF8&amp;quot;. The default text search configuration will be set to &amp;quot;english&amp;quot;. ... LOG: autovacuum launcher shutting down LOG: shutting down LOG: database system is shut down done server stopped PostgreSQL init process complete; ready for start up.</description></item><item><title>Emacs で行番号を指定してファイルを開く</title><link>http://blog-ja.dtan4.net/posts/qiita-9e2eb59373f0b2b5f17c/</link><pubDate>Sat, 26 Dec 2015 00:00:00 +0000</pubDate><guid>http://blog-ja.dtan4.net/posts/qiita-9e2eb59373f0b2b5f17c/</guid><description>この記事はQiitaの記事をエクスポートしたものです。内容が古くなっている可能性があります。
:bulb: 以下、emacs の部分は、あなたの Emacs 利用形態（新しい Emacs ではなくすでに起動している Emacs 上で開くとか）に合わせて emacsclient -n とかにしてください。
ターミナルから行番号を指定して開く Emacs のコマンドラインヘルプを見ると…
$ emacs --help Usage: /usr/local/opt/emacs-mac/bin/emacs [OPTION-OR-FILENAME]... Run Emacs, the extensible, customizable, self-documenting real-time display editor. The recommended way to start Emacs for normal editing is with no options at all. (snip) Action options: FILE visit FILE using find-file +LINE go to line LINE in next FILE +LINE:COLUMN go to line LINE, column COLUMN, in next FILE (snip) ということで、/path/to/hoge ファイルの__20行目__を開くときは</description></item><item><title>grep の出力をバッファさせない</title><link>http://blog-ja.dtan4.net/posts/qiita-f14f3c10d73e85ff30af/</link><pubDate>Sun, 15 Feb 2015 00:00:00 +0000</pubDate><guid>http://blog-ja.dtan4.net/posts/qiita-f14f3c10d73e85ff30af/</guid><description>この記事はQiitaの記事をエクスポートしたものです。内容が古くなっている可能性があります。
grep コマンドは、何もしないと出力をバッファする（一旦溜め込む）ようになっています。
あるファイル全体とか固定のデータに対して grep する場合は特に気にならないでしょう。 しかしストリーミングデータを扱う場合、例えば何らかのログファイルを tail -f したものに対して grep すると、複数行がまとめて遅延して出力されてしまいます。 ここは元のログが出力されると（ほぼ）同時に、リアルタイムに grep 結果も出力してほしいところです。
解決策: --line-buffered オプション grep に --line-buffered オプションをつけると、出力がバッファされることなくリアルタイムに表示されるようになります！
$ tail -f /var/log/access.log | grep -E &amp;#39;\.png$&amp;#39; --line-buffered --line-buffered は、「1行単位で出力させる」というオプションです。BSD grep と GNU grep ともに用意されているので、Mac ユーザも Linux ユーザも安心です。
man 見てみましょう。
# grep (BSD grep) 2.5.1-FreeBSD --line-buffered Force output to be line buffered. By default, output is line buffered when standard output is a terminal and block buffered otherwise.</description></item></channel></rss>