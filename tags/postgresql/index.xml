<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>PostgreSQL on blog-ja.dtan4.net</title><link>http://blog-ja.dtan4.net/tags/postgresql/</link><description>Recent content in PostgreSQL on blog-ja.dtan4.net</description><generator>Hugo -- gohugo.io</generator><language>ja-JP</language><copyright>Copyright &amp;copy; 2020 dtan4 All Rights Reserved</copyright><lastBuildDate>Wed, 07 Sep 2016 00:00:00 +0000</lastBuildDate><atom:link href="http://blog-ja.dtan4.net/tags/postgresql/index.xml" rel="self" type="application/rss+xml"/><item><title>PostgreSQL が起動したかどうか簡単に確認する (ping)</title><link>http://blog-ja.dtan4.net/posts/qiita-45ae1a8ac6f853a0dc1a/</link><pubDate>Wed, 07 Sep 2016 00:00:00 +0000</pubDate><guid>http://blog-ja.dtan4.net/posts/qiita-45ae1a8ac6f853a0dc1a/</guid><description>この記事はQiitaの記事をエクスポートしたものです。内容が古くなっている可能性があります。
PostgreSQL は、プロセスを起動してから SQL クエリ・外部入力を受け付けるようになるまで若干のタイムラグが有ります。特に Docker コンテナで起動した場合、自分の環境では5秒程度待つことになります。
The files belonging to this database system will be owned by user &amp;quot;postgres&amp;quot;. This user must also own the server process. The database cluster will be initialized with locale &amp;quot;en_US.utf8&amp;quot;. The default database encoding has accordingly been set to &amp;quot;UTF8&amp;quot;. The default text search configuration will be set to &amp;quot;english&amp;quot;. ... LOG: autovacuum launcher shutting down LOG: shutting down LOG: database system is shut down done server stopped PostgreSQL init process complete; ready for start up.</description></item><item><title>PostgreSQL コンテナの backup / restore をする</title><link>http://blog-ja.dtan4.net/posts/qiita-5147a3f858d5919965c9/</link><pubDate>Thu, 23 Apr 2015 00:00:00 +0000</pubDate><guid>http://blog-ja.dtan4.net/posts/qiita-5147a3f858d5919965c9/</guid><description>この記事はQiitaの記事をエクスポートしたものです。内容が古くなっている可能性があります。
Docker コンテナとして動いている PostgreSQL からデータを backup する、またデータを restore する（PostgreSQL コンテナにデータを注入する）方法です。 ここで使っているイメージは Docker Hub 公式の postgres イメージです。今回は postgres:9.4.1 を使いました。
$ docker run -d -p 5432:5432 --name postgres postgres:9.4.1 backup する $ docker exec [container_id or name] pg_dumpall -U postgres &amp;gt; dump.sql コンテナ内のデータベース全体が SQL として dump されます。
-- -- PostgreSQL database cluster dump -- SET default_transaction_read_only = off; SET client_encoding = &amp;#39;UTF8&amp;#39;; SET standard_conforming_strings = on; -- -- Roles -- CREATE ROLE postgres; ALTER ROLE postgres WITH SUPERUSER INHERIT CREATEROLE CREATEDB LOGIN REPLICATION; .</description></item></channel></rss>